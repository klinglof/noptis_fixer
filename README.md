# Noptis Fixer
Fixes errors in the noptis xml schema (xsd) and generates python code.

## Usage
TL;DR;
- If you just want the fixed schema, look in ./autogenerated/fixed/
- If you just want generated python lib, look in ./autogenerated/noptis/

### Generate correct xml schema (xsd)
The original schema contains a few errors:
- Uses windows path
- Uses multiple imports (only one allowed in xsd)
- Missing include (because of the incorrect import)

To generate a corrected schema you can use:

    fix_file_errors.apply_fixes(SCHEMA_PATH, FIX_PATH)

Where ```SCHEMA_PATH``` is the path to the unzipped folder from noptis webpage.
and ```FIX_PATH``` is the folder to which you wish to write the fixed schema to.

### Generate python lib from the schema
To take things even further you could generate python code from the xml schema.

    fix_file_errors.generate_library(FIX_PATH)

Where ```FIX_PATH``` is the path to the folder where the corrected schema files are.
The code generation will not work with the original schema files.

### Bonus: Validate xml file

    schema = fix_file_errors.schema_collection(FIX_PATH)
    schema.roi_from_pub_trans.validate(PATH_TO_XML_FILE)


## Development
Setup the development environment with the following script:

    ./dev_environment_setup.sh
